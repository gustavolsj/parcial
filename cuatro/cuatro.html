<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DEF y USE</title>
    <script src='https://www.x3dom.org/x3dom/release/x3dom-full.js'></script>
    <link rel='stylesheet' href='https://www.x3dom.org/x3dom/release/x3dom.css'>
    <style>
        body {
            background-color: grey;
            color: white;
            font-family: sans-serif;
            margin: 0;
        }

        .fondo {
            width: 100vw;
            height: 100vh;
        }
    </style>

</head>

<body>
    <X3D class="fondo">
        <Scene>
            <!-- ---------------EJES------------------------- -->
            <Transform>
                <inline url="ejes.x3d"></inline>
            </Transform>

            <Transform translation="-3.5 0 -20">
                <!-- ---------------HEXAGONOS------------------------- -->
                <Transform DEF="planta_baja">
                    <!-- -------------FILA ORIGINAL---------- -->
                    <Transform DEF="Fila" translation="0 0 0" rotation="1 0 0 1.57">
                        <Transform DEF='Arco'>
                            <inline DEF="ARCOm" url="./hexagono.x3d"></inline>
                        </Transform>

                        <Transform translation="1.75 0 0">
                            <shape USE="ARCOm" />
                        </Transform>

                        <Transform translation="3.5 0 0">
                            <shape USE="ARCOm" />
                        </Transform>

                        <Transform translation="5.25 0 0">
                            <shape USE="ARCOm" />
                        </Transform>

                        <Transform translation="7 0 0">
                            <shape USE="ARCOm" />
                        </Transform>
                    </Transform>

                    <!-- -------------FILA COPIA 1---------- -->
                    <Transform translation="0 0 7" rotation="1 0 0 1.57">
                        <Transform DEF='Arco'>
                            <inline DEF="ARCOmn" url="./hexagono.x3d"></inline>
                        </Transform>

                        <Transform translation="1.75 0 0">
                            <shape USE="ARCOm" />
                        </Transform>

                        <Transform translation="5.25 0 0">
                            <shape USE="ARCOm" />
                        </Transform>

                        <Transform translation="7 0 0">
                            <shape USE="ARCOm" />
                        </Transform>
                    </Transform>
                    <!-- -------------FILA COPIA 2---------- -->
                    <Transform rotation="0 1 0 -1.57">
                        <Transform USE="Fila">
                            <!-- Aqui USE esta dentro de un transform, no de un shape -->
                        </Transform>
                    </Transform>
                    <!-- -------------FILA COPIA 3---------- -->
                    <Transform rotation="0 1 0 -1.57" translation="7 0 0">
                        <Transform USE="Fila">
                            <!-- Aqui USE esta dentro de un transform, no de un shape -->
                        </Transform>
                    </Transform>
                </Transform>

                <Transform translation="2.5 0.5 7">
                    <inline url="puerta.x3d"></inline>
                </Transform>

                <!-- -------------Planta 1---------- -->
                <Transform translation="0 1.35 0">
                    <Transform USE="planta_baja">
                    </Transform>
                </Transform>
                <!-- -------------Planta 2---------- -->
                <Transform translation="0 2.7 0">
                    <Transform USE="planta_baja">
                    </Transform>
                </Transform>
                <!-- -------------Planta 3---------- -->
                <Transform translation="0 4.05 0">
                    <Transform USE="planta_baja">
                    </Transform>
                </Transform>

                <!-- -------------Piso---------- -->
                <Transform translation="4 -1 4">
                    <Shape>
                        <Appearance>
                            <ImageTexture url=".//imagen/piso.jpg">
                            </ImageTexture>
                            <TextureTransform scale="5, 5"></TextureTransform>
                        </Appearance>
                        <Box size="19 0.5 19"></Box>
                    </Shape>
                </Transform>

                <!-- -------------  Techo ---------- -->
                <Transform DEF="Paredes" translation="4 4.9 4">
                    <Shape>
                        <Appearance>
                            <ImageTexture url=".//imagen/floorboard.jpg">
                            </ImageTexture>
                            <TextureTransform scale="5, 5"></TextureTransform>
                        </Appearance>
                        <Box size="19 0.2 19"></Box>
                    </Shape>
                </Transform>
            </Transform>

            <!-- ------------------Cielo-------------- -->
            <Background skyColor="
            0.21 0.18 0.26,
            0.52 0.44 0.55,
            0.51 0.51 0.52,
            0.77 0.60 0.2" skyAngle="0.5 1.5 1.57" groundColor="
            0.6 0.2 0.1,
            0.5 0.2 0.2,
            0.4 0.1 0.1,           
            0.2 0 0.1" groundAngle="0.9 0.5 1.57">
            </Background>
        </Scene>
    </X3D>
</body>

</html>